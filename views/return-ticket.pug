html(lang='en')
  head
    meta(charset='UTF-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1.0')
    link(rel='stylesheet', href='/stylesheets/search-result.css')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css')
    link(rel='stylesheet', href='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css')
    title TrainVenture
  body
    .container
      nav.menu
        span.logo
          a(href='#')
            img(src='/images/Icon.ico', width='30', height='30')
        span.search
          a(href='#')
            svg(xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink', version='1.1', x='0px', y='0px', viewBox='0 0 100 125', enable-background='new 0 0 100 100', xml:space='preserve')
              path(d='M91.202,88.547L67.931,65.276c5.386-6.201,8.657-14.285,8.657-23.124c0-19.472-15.842-35.315-35.315-35.315  C21.8,6.837,5.959,22.681,5.959,42.153S21.8,77.467,41.273,77.467c8.838,0,16.922-3.271,23.122-8.657l23.273,23.272  c0.488,0.488,1.128,0.732,1.768,0.732c0.639,0,1.279-0.244,1.766-0.732C92.179,91.106,92.179,89.523,91.202,88.547z M10.959,42.152  c0-16.716,13.599-30.315,30.314-30.315c16.716,0,30.315,13.6,30.315,30.315c0,16.715-13.599,30.314-30.315,30.314  C24.558,72.466,10.959,58.867,10.959,42.152z')
        ol
          li.menu-item
            a(href='#0') Home
          |  
          li.menu-item
            a(href='#0') About
          li.menu-item
            a(href='#0')
              | Features
              svg.plus-icon(xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink', viewBox='0 0 100 125', version='1.1', x='0px', y='0px')
                g(stroke='none', stroke-width='1', fill='none', fill-rule='evenodd')
                  path(d='	M86.9102564,31.025641 C85.8846154,30 84.2179487,30 83.1923077,31.025641 L50.5,63.7820513 L17.7435897,31.025641 C16.7179487,30 15.0512821,30 14.025641,31.025641 C13,32.0512821 13,33.7179487 14.025641,34.7435897 L48.5769231,69.2948718 C49.0897436,69.8076923 49.7307692,70.0641026 50.4358974,70.0641026 C51.0769231,70.0641026 51.7820513,69.8076923 52.2948718,69.2948718 L86.8461538,34.7435897 C87.9358974,33.7179487 87.9358974,32.0512821 86.9102564,31.025641 Z', fill='#333', fill-rule='nonzero')
            ol.sub-menu
              li.sub-menu-item
                a(href='#0') Cancel
              li.sub-menu-item
                a(href='#0') Coming Soon
          li.menu-item
            a(href='#0')
              | Contact
              svg.plus-icon(xmlns='http://www.w3.org/2000/svg', xmlns:xlink='http://www.w3.org/1999/xlink', viewBox='0 0 100 125', version='1.1', x='0px', y='0px')
                g(stroke='none', stroke-width='1', fill='none', fill-rule='evenodd')
                  path(d='	M86.9102564,31.025641 C85.8846154,30 84.2179487,30 83.1923077,31.025641 L50.5,63.7820513 L17.7435897,31.025641 C16.7179487,30 15.0512821,30 14.025641,31.025641 C13,32.0512821 13,33.7179487 14.025641,34.7435897 L48.5769231,69.2948718 C49.0897436,69.8076923 49.7307692,70.0641026 50.4358974,70.0641026 C51.0769231,70.0641026 51.7820513,69.8076923 52.2948718,69.2948718 L86.8461538,34.7435897 C87.9358974,33.7179487 87.9358974,32.0512821 86.9102564,31.025641 Z', fill='#333', fill-rule='nonzero')
            ol.sub-menu
              li.sub-menu-item
                a(href='#0') FAQ
              li.sub-menu-item
                a(href='#0') Send a mail
        span.bar
      .search-result-page
        .search-preview          
          .content-preview
            .preview-column
              .selected-ticket
                .list-horizontal
                  .checked-icon
                    i.fa-regular.fa-circle-check
                .text-section.list-horizontal
                  .from-station #{go_ticket.departure_station}
                  .to-station.list-horizontal
                    p To #{go_ticket.arrival_station}
                  .date-station #{go_ticket.departure_date}
                  .price-ticket IDR #{go_ticket.price}
              .choose-ticket
                .border-left
                .content-box
                  .list-horizontal
                    .train-icon
                      i.fa-solid.fa-train
                  .text-section.list-horizontal
                    .header-section Return Train Ticket
                    .list-preview
                      .stasion-name.list-horizontal #{return_tickets[0].departure_station}
                      .journey-icon.list-horizontal
                        i.fa-solid.fa-arrow-right
                      .stasion-name.list-horizontal #{return_tickets[0].arrival_station}
                      .list-horizontal
                        .icon-line
                      .journey-date.list-horizontal #{return_tickets[0].departure_date}
                      .list-horizontal
                        .icon-line
                      .passenger.list-horizontal #{passenger} Passenger
            .change-preview
              a(href="booking") Change Destination
        .result-ticket
          .content-ticket
            .column-ticket
              .head-ticket
                table.position
                  tbody
                    tr
                      td.train-name Train
                      td.from-station From
                      td.duration Duration
                      td.to-station To
                      td.price Price
              each ticket in return_tickets                
                if ticket.status !== 'SOLD_OUT'                  
                  .available-ticket                     
                      table.position
                        tbody                    
                            tr
                              td.train-name
                                .text-train-name #{ticket.train_name}
                                .text-train-class #{ticket.Train.class}
                              td.from-station
                                .text-station #{ticket.departure_station}
                                .time-station #{ticket.departure_time}
                                .date-station #{ticket.departure_date}
                              td.duration
                                .time-duration #{ticket.duration}
                              td.to-station
                                .text-station #{ticket.arrival_station}
                                .time-station #{ticket.arrival_time}
                                .date-station #{ticket.arrival_date}
                              td.price
                                .seat AVAILABLE 
                                .price-tag IDR #{ticket.price}
                                form(action="booking-return", method="post")  
                                  input(type="hidden", name="go_ticket_id", value=go_ticket.ticket_id)
                                  input(type="hidden", name="return_ticket_id", value=ticket.ticket_id)
                                  input(type="hidden", name="train_name", value=ticket.train_name)
                                  input(type="hidden", name="departure_station", value=ticket.departure_station)
                                  input(type="hidden", name="arrival_station", value=ticket.arrival_station)
                                  input(type="hidden", name="departure_date", value=ticket.departure_date)
                                  input(type="hidden", name="passenger", value=passenger)                                  
                                  .order-btn                                                                      
                                    button(type="submit") ORDER
              each ticket in return_tickets
                if ticket.status === 'SOLD_OUT'             
                  .sold-ticket
                    table.position
                      tbody
                        tr
                          td.train-name
                            .text-train-name #{ticket.train_name}
                            .text-train-class #{ticket.Train.class}
                          td.from-station
                            .text-station #{ticket.departure_station}
                            .time-station #{ticket.departure_time}
                            .date-station #{ticket.departure_date}
                          td.duration
                            .time-duration #{ticket.duration}
                          td.to-station
                            .text-station #{ticket.arrival_station}
                            .time-station #{ticket.arrival_time}
                            .date-station #{ticket.arrival_date}
                          td.price
                            .text-sold SOLD OUT
                            .price-tag IDR #{ticket.price}
                            .order-btn
                              button(type="submit") ORDER
    footer
      .footer
        .row
          a(href='#')
            i.fa.fa-facebook
          a(href='#')
            i.fa.fa-instagram
          a(href='#')
            i.fa.fa-youtube
          a(href='#')
            i.fa.fa-twitter
        .row
          ul
            li
              a(href='#') Contact us
            li
              a(href='#') Our Services
            li
              a(href='#') Privacy Policy
            li
              a(href='#') Terms &amp; Conditions
        .row
          | TrainVenture Copyright &copy; 2023 TrainVenture - All rights reserved
    script(src='/javascripts/search-result.js')
